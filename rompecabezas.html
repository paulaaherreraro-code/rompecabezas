<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Rompecabezas de Palabras</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      background: #f4f4f9;
      padding: 20px;
    }
    h1 {
      margin-bottom: 10px;
    }
    .letters {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      margin: 20px 0;
    }
    .letter {
      background: #fff;
      border: 2px solid #333;
      border-radius: 10px;
      padding: 15px;
      margin: 5px;
      font-size: 24px;
      font-weight: bold;
      cursor: grab;
      user-select: none;
    }
    .definition {
      display: none;
      background: #dff0d8;
      border: 2px solid #4cae4c;
      padding: 15px;
      margin-top: 20px;
      border-radius: 10px;
    }
    button {
      margin-top: 20px;
      padding: 10px 20px;
      font-size: 16px;
      border: none;
      border-radius: 8px;
      background: #333;
      color: white;
      cursor: pointer;
    }
    button:hover {
      background: #555;
    }
  </style>
</head>
<body>

  <h1>Rompecabezas de Palabras</h1>
  <p>Arrastra las letras para formar la palabra correcta</p>

  <div id="letters" class="letters"></div>

  <div id="definition" class="definition"></div>

  <button onclick="nextWord()">Siguiente palabra</button>

  <script>
    // Palabras y significados
    const words = [
      { word: "DAI", definition: "Es un dispositivo electrónico pequeño (similar a un marcapasos) que se implanta bajo la piel, generalmente en la zona pectoral." },
      { word: "OBJETIVO", definition: "Controlar el número y duración de las taquicardias de origen ventricular." },
      { word: "TRATAMIENTO", definition: " Preventivo, pero no curativo ." }
      { word: "PREVIENE", definition: "La muerte súbita." },
      { word: "DETECTA", definition: "Taquicardia ventricular sostenida (TV), Fibrilación ventricular (FV)." },
      { word: "INDICACIONES", definition: " Hay dos tipos, prevención primaria y secundaria ." }
     { word: "PREVENCIÓN PRIMARIA", definition: "El paciente no ha presentado ningún episodio de muerte súbita pero tiene factores de riesgo ." },
      { word: "PREVENCIÓN SECUNDARIA ", definition: "El paciente ya ha tenido un episodio de muerte súbita." },
      { word: "COMPONENTES", definition: " El desfibrilador consta de un generador y de 1-3 cables (electrodos)." }
      { word: "GENERADOR", definition: "En su interior debe alojar  la batería, un transformador de energía y un condensador que «guarde» la energía para el momento apropiado de liberarla." },
      { word: "ELECTRODOS", definition: "Sirven para estimular y «detectar» la actividad eléctrica propia del corazón. El electrodo que se coloca en ventrículo tiene 1 o 2 «bobinas» sobre las que se forma el eje de descarga de alta energía." },
      { word: "MODOS IMPLANTE", definition: " Modo endovenoso o endocárdico, Modo epicárdico,Modo subcutáneo." }
     { word: "ENDOVENOSO", definition: " Introduciéndolo por una vena subclavia, se llega al ventrículo del corazón y el generador queda alojado subcutáneo o debajo del pectoral a nivel subclavicular." },
      { word: "EPICÁRDICO", definition: "se emplea en pacientes con problemas vasculares (trombosis de venas), anatomía difícil o pacientes de corta edad/peso, en los que hay dificultad de acceso vascular. El generador en estos casos queda alojado subcutáneo en abdomen. En ocasiones, para asegurar un eje de descarga apropiado para la terapia, se deben implantar bobinas adicionales ej subcutáneas." },
      { word: "SUBCUTÁNEO", definition: " son dispositivos de uso relativamente reciente, cuyo electrodo se implante debajo de la piel.  Pueden ser una alternativa en pacientes en los que existen problemas de accesos vasculares para implantar electrodos endovenosos y que no precisen terapia anti-bradicardia , no se pueden usar en pacientes con indicación de marcapasos, ya que no suplen esa función ." }
      { word: "FUNCIONAMIENTO", definition: "Los impulsos electricos generados por el nodulo sinusal viajan a traves de nódulo AV, Haz de His, fibras de Purkinje, cuando el DAI detecta una alteracion en el potencial electrico se activa, semejante a un electrocardiograma." },
        { word: "MICROPROCESADOR", definition: "Analiza las señales que recibe de los electrodos,reconoce patrones de frecuencia, duración y morfología de los latidos,El médico, al implantarlo, programa parámetros específicos según cada paciente." },
      { word: "ACCIÓN", definition: "Intenta primero estimulación antitaquicardia (ATP): impulsos rápidos para interrumpir el circuito eléctrico anormal, si no funciona, desfibriliza al corazón, repolarizando las celulas musculares." },
      { word: "MEMORIA", definition: " Guarda el registro para que el médico lo revise luego." }
      
    ];

    let currentWordIndex = 0;
    let selectedWord = "";

    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    function loadWord() {
      const lettersDiv = document.getElementById("letters");
      const definitionDiv = document.getElementById("definition");
      lettersDiv.innerHTML = "";
      definitionDiv.style.display = "none";

      const wordObj = words[currentWordIndex];
      selectedWord = wordObj.word;

      const shuffled = shuffle(selectedWord.split(""));
      shuffled.forEach(letter => {
        const span = document.createElement("div");
        span.className = "letter";
        span.textContent = letter;
        span.draggable = true;

        span.addEventListener("dragstart", dragStart);
        span.addEventListener("dragover", dragOver);
        span.addEventListener("drop", drop);

        lettersDiv.appendChild(span);
      });
    }

    let dragged = null;

    function dragStart(event) {
      dragged = event.target;
    }

    function dragOver(event) {
      event.preventDefault();
    }

    function drop(event) {
      event.preventDefault();
      if (event.target.className === "letter") {
        const parent = event.target.parentNode;
        if (dragged && dragged !== event.target) {
          let draggedIndex = Array.from(parent.children).indexOf(dragged);
          let targetIndex = Array.from(parent.children).indexOf(event.target);

          if (draggedIndex < targetIndex) {
            parent.insertBefore(dragged, event.target.nextSibling);
          } else {
            parent.insertBefore(dragged, event.target);
          }
        }
      }
      checkWord();
    }

    function checkWord() {
      const letters = document.querySelectorAll(".letter");
      let formedWord = "";
      letters.forEach(l => formedWord += l.textContent);

      if (formedWord === selectedWord) {
        const definitionDiv = document.getElementById("definition");
        definitionDiv.innerHTML = `<h2>${selectedWord}</h2><p>${words[currentWordIndex].definition}</p>`;
        definitionDiv.style.display = "block";
      }
    }

    function nextWord() {
      currentWordIndex = (currentWordIndex + 1) % words.length;
      loadWord();
    }

    // Inicializa con la primera palabra
    loadWord();
  </script>

</body>
</html>

